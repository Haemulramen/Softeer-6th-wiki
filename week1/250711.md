# 소프티어 1주차 금요일 회고
2025년 07월 11일

### 진행 중인 과제
> 웹 서버 3단계 - GET으로 회원가입

### 과제를 하며...
1. **`회원가입` 버튼을 클릭했을 때 /registration 경로로 연결되고 있음.**
   - /static/registration 폴더 내에 index.html 파일이 존재하고 있음.
     만약 이동 경로가 파일이 아니라 폴더라면 해당 폴더 내 index.html을 반환하도록 처리하는 것이 좋아보임.
     이 경우 FileRequestMapper 클래스에서 해당 요청을 매핑하도록 구현함.
2. **MIME 타입 처리**
   - Files.probeContentType(path) 메서드는 운영체제와 JVM 환경에 따라서 결과가 달라질 수 있다는 이야기를 그룹원을 통해서 알게 됨.
   - 또한 스쿼드 세션에서 해당 메서드가 nio 패키지에 포함되어 있기 때문에 과제 조건에 부합하지 않는다는 것도 알 수 있었음.
     편리한 메서드라고 생각했지만 안정성이 떨어지고 과제 조건에도 부합하지 않는 만큼 수정이 필요할 것 같음.
3. **유저 저장 구조와 동시성**
   - 사용자(User) 정보는 Map에 저장되고 있음.
     하지만 HashMap은 동시성이 보장되지 않기 때문에 동시 요청 시 문제가 발생할 수 있을 것으로 예상됨.
   - 따라서 ConcurrentHashMap을 사용해서 구현하는 방향으로 수정하는 것을 고려함.
4. **Spring 구조를 따르지 않을 수 없나?**
   - 처음 미션을 시작할 때 Spring의 네이밍 방식이나 구조를 따라가지 않으려는 생각으로 과제를 시작함.
     1, 2단계에서는 단순히 html 파일을 응답하는 과정이었기에 크게 문제가 되지 않았던 것 같음.
   - 하지만 미션의 3단계를 시작하면서 파일을 응답하는 요청과 사용자 데이터를 저장하는 요청을 구분해야 하기 시작하면서 조금씩 복잡해지는 것을 느낌.
   - 결국 각 리소스 별로 다르게 처리할 수 있도록 하는 Mapper 클래스로 분리하게 되었음.
   - 앞으로 남은 과제를 진행하면서는 Spring의 요청 처리 구조를 따르게 되더라도 적어도 해당 구조의 채택 이유에 대해서 확실히 이해하면서
     과제를 진행하는 것을 목표로 함.
5. **HTTP 헤더. 제대로 알고 있는 거 맞나?**
   - 1주차 피드백 시간에 머리를 한 대 맞은 기분이었다.
   - HTTP 헤더를 파싱하는 과정에서 "Content-Type"을 String으로 파싱했는데 헤더 필드명은 대소문자를 구분하지 않는다는 것이다.
     또한 OWS(Optional White Space) 규칙도 고려해야 제대로 된 HTTP 통신이 가능하다는 것을 알게 되었다.
   - 우선은 3단계 미션을 완료하고 리팩토링을 통해서 해당 부분을 수정해야겠지만, 지금 해결방법을 구상해보자면...
     - 대문자 혹은 소문자로 헤더의 키 값을 통일한다.
     - ":"으로 헤더를 분리한 후에 양쪽을 strip()으로 처리한다.
   - 내 기억 상 strip()으로 처리하는 것은 구현했던 것 같은데 다시 한 번 확인해보는 것이 필요할 것 같다.

### 오늘 하루를 통해서...
오늘은 금요일이라서 오후 일정에 스쿼드 세션이 준비되어 있어서 코드를 공유하는 시간을 가질 예정이었다.
하지만 나는 3단계 과제를 아침부터 시작해야 하는 상황이었기에 마음이 급해졌다.
코드의 구조를 대부분 바꾸는 나름 대공사를 해야만 했고, 점심을 먹고 와서는 빠르게 코드를 작성하기 위해서 분주했던 것 같다.
하지만 스쿼드 세션이 시작하기 전에 테스트 코드를 작성하는 미션까지는 해내지 못해서 아쉬웠다. 

스쿼드 세션을 통해서 우리 그룹이 아닌 다른 그룹 사람들과 코드를 공유하면서 이야기를 나눌 수 있었다.
그룹 세션을 진행하면서는 미션의 기능을 구현하는 방법에 대해서 이야기를 많이 나눴던 것에 비해서
스쿼드 세션에서는 내가 작성한 코드를 왜 이렇게 작성했는가를 설명하면서 시간을 많이 보냈던 것 같다.
스쿼드 세션 시간이 2시간이나 주어져서 너무 길지 않을까? 하는 생각을 했지만 서로의 코드를 설명하고 질문을 주고 받으면서 순식간에 시간이 지나갔다.
그룹 세션을 통해서 나만의 생각에 갇히지 않고, 스쿼드 세션을 통해서 그룹 안에서 정체되지 않을 수 있음을 느꼈고,
앞으로의 그룹, 스쿼드 세션을 통해서 더 성장할 수 있을 것 같아서 더 기분이 좋다.
